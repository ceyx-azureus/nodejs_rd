# Архітектура та структура проєкту

Проєкт побудований на **NestJS** , згенерований **@nestjs/cli** і використовує **feature-based** (доменно-орієнтовану) організацію коду: кожна фіча/домен має власний модуль з усіма потрібними компонентами поруч.

## Обрана структура `src/`

```text
src/
├── common/                    # Спільні утиліти, що використовуються в різних модулях
│   ├── decorators/
│   ├── guards/
│   ├── interceptors/
│   ├── pipes/
│   ├── filters/
│   └── constants/
├── config/                    # Конфіги застосунку
│   ├── validation.schema.ts
│   └── configuration.ts
├── modules/                   # Модулі фіч (основна “вісь” структури)
│   ├── users/
│   │   ├── dto/
│   │   │   ├── create-user.dto.ts
│   │   │   └── update-user.dto.ts
│   │   ├── entities/
│   │   │   └── user.entity.ts
│   │   ├── users.controller.ts
│   │   ├── users.service.ts
│   │   ├── users.module.ts
│   │   └── users.repository.ts
│   ├── auth/
│   │   ├── strategies/
│   │   ├── guards/
│   │   ├── dto/
│   │   ├── auth.controller.ts
│   │   ├── auth.service.ts
│   │   └── auth.module.ts
│   └── products/
│       └── ...
├── database/                  # Міграції/сіди та інші DB-артефакти
│   ├── migrations/
│   └── seeds/
├── main.ts
└── app.module.ts
```

## Чому структура виглядає саме так

- **Feature-based organization**: легше знаходити код і масштабувати проєкт - все, що стосується конкретної фічі, лежить в одному місці.
- **Module encapsulation**: кожен модуль є самодостатнім і експортує назовні лише те, що потрібно іншим модулям.
- **Shared resources в `common/`**: повторно використовувані декоратори/гуарди/пайпи/фільтри не дублюються між модулями.
- **DTO та entity поруч із модулем**: DTO/Entity живуть поруч із місцем використання, що зменшує “розмазування” коду по проєкту.
- **Без надмірної вкладеності**: структуру варто тримати відносно пласкою; якщо модуль розростається - краще розділяти на підмодулі.

## Вже налаштовано

- **SWC**: швидша компіляція TypeScript (заміна повільнішого `tsc` у dev/build сценаріях залежно від конфігурації).
- **`cross-env`**: коректна робота змінних середовища на різних ОС.
- **Валідація env через Joi**: перевірка `.env` на старті застосунку (щоб падати швидко та зрозуміло при неправильній конфігурації).
